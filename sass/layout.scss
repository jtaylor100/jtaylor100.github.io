// mixin for device breakpoints
@mixin for-device($device) {
  @if $device == phone-only {
    @media (max-width: 689px) { @content; }
  } @else if $device == tablet-portrait-up {
    @media (min-width: 690px) { @content; }
  } @else if $device == tablet-landscape-up {
    @media (min-width: 900px) { @content; }
  } @else if $device == desktop-up {
    @media (min-width: 1200px) { @content; }
  } @else if $device == big-desktop-up {
    @media (min-width: 1800px) { @content; }
  }
}

// colour palette 
$darkgrey:      #3D3D3D;
$white:         #E0E0E0;
$lightblack:    #202020;
$base00:        rgb(178, 178, 178);
$base1:         rgb(147, 161, 161);
$base2:         rgb(238, 232, 213);
$base3:         rgb(0, 0, 0);
$yellow:        rgb(181, 137, 0);
$orange:        rgb(203, 75, 22);
$red:           rgb(220, 50, 47);
$magenta:       rgb(211, 54, 130);
$violet:        rgb(108, 113, 196);
$blue:          rgb(38, 139, 210);
$cyan:          rgb(42, 161, 152);
$green:         rgb(133, 153, 0);

%display-header {
  margin: 0;
  padding:0;

  font-size: 2.5rem;
  font-weight: 300;
}

%invisible-hr {
  border-style: solid;
  border-width: 0.5px;
  border-color: $white; 
}

@mixin mobile-border {
  @include for-device(phone-only) {
    margin: 1.1rem;
  }
}

@mixin center-if-not-mobile {
  @include for-device(tablet-portrait-up) {
    text-align:center;
  }
}

html {
    background-color: $lightblack;
    color: $base00;

  font-family:
    // Safari for OS X and iOS (San Francisco)
    -apple-system,
    // Chrome < 56 for OS X (San Francisco)
    BlinkMacSystemFont,
    // Windows
    "Segoe UI",
    // Android
    "Roboto",
    // Basic web fallback
    "Helvetica Neue", Arial, sans-serif;
  
  @include for-device(phone-only) {
    font-size: 1.1rem;
  }

  @include for-device(tablet-portrait-up) {
    font-size: 1rem;
  }

  @include for-device(desktop-up) {
    font-size: 1.1rem;
  }

  @include for-device(big-desktop-up) {
    font-size: 1.4rem;
  }
}

// base styles
body {
  margin: 0;
}

a {
  color: $blue;
  text-decoration: underline;
  text-decoration-color: $darkgrey;

  &:hover {
    color: $cyan;
  }

  &:visited {
    color: $cyan;
  }

  &:active {
    color: $magenta;
  }
}


.container {
  margin: 0 auto;

  @include for-device(phone-only) {
    max-width: 100%;  
  }

  @include for-device(tablet-portrait-up) {
    max-width: 40rem;
  }
}

div.home {
  @include mobile-border;

  h1 {
    @extend %display-header;
    padding:0;

    @include center-if-not-mobile;
  }

  .header {
    padding: 2rem 0;
    h2 {
      margin-bottom: 0;
      text-transform: uppercase;
      font-size: 1rem;
      font-weight: 700;
      color: $base1;
      @include center-if-not-mobile;
    }
  }

  h2 {
    margin-top: 0rem;
    font-weight:400;
    @include center-if-not-mobile;
  }

  hr {
    @extend %invisible-hr;
  }

  div.post {
    margin: 1rem 0;

    @include for-device(tablet-portrait-up) {
      margin: 0 auto;
      max-width: 23.3rem;
      display: flex;
      justify-content: space-between;
    }
  }
}

article {
  @include mobile-border;
  
  hr {
    @extend %invisible-hr;
  }

  header {
    color: $white;

    h1 {
      @extend %display-header;
    }

    p {
      margin: 3.5rem 0 0 0;
      font-weight: 600;
    }

    time {
      display:block;
      margin: 0.4rem 0 3.5rem 0;

    }

  }


  section {
    margin: 1.5rem 0 1.5rem 0;
    h2 {
      margin-top: 2.2rem;
      font-size: 1rem;
      margin-bottom: 0.3rem;
      color: $white;
    }

    & > p {
      line-height: 1.6rem;
      margin:  0 0 1.4rem 0;

      @include for-device(tablet-portrait-up) {
        text-align:justify;
      }
    }

    h2+p,p:first-of-type {
      text-indent:0;
    }

    & > p:last-of-type::after {
      content: " â– ";
    }


    a.footnoteRef sup {
      &::before{
        content: "[";
      }

      &::after {
        content: "]";
      }
      font-size: 1rem;
      vertical-align:bottom;
    }

    blockquote {
      margin-left: 0;
      padding-left: 0.5rem;
      border-left: 0.3rem $base1 solid;
    }

    div.footnotes {
      font-size: 0.9rem;  
    }

    &.hyphenate {
      hyphens:auto;
      -webkit-hyphens:auto;
      -ms-hyphens: auto;
    }

  }

  footer {
    margin: 3.5rem 0;
    @include center-if-not-mobile;

    p.legal {
      font-size: 0.8rem;
    }
  }
}
